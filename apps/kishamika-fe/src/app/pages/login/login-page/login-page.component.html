<app-content-wrapper centerContent>
  <app-bordered-card>
    <form nz-form class="form" [formGroup]="form" nzLayout='vertical' (ngSubmit)="onSubmit()">
      @if(isRegisterForm){
        <nz-form-item>
          <nz-form-label nzFor="name">Name</nz-form-label>
          <nz-form-control [nzErrorTip]="errorTpl">
            <input nz-input formControlName="name" id="name" placeholder="Name" />
          </nz-form-control>
        </nz-form-item>
      }
      <nz-form-item>
        <nz-form-label nzFor="email">Email</nz-form-label>
        <nz-form-control [nzErrorTip]="errorTpl">
          <input nz-input formControlName="email" id="email" placeholder="Email" />
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzFor="password">Password</nz-form-label>
        <nz-form-control [nzErrorTip]="errorTpl">
          <input nz-input type="password" placeholder="Password" formControlName="password" id="password" />
        </nz-form-control>
      </nz-form-item>
      @if(isRegisterForm){
        <nz-form-item>
          <nz-form-label nzFor="confirmPassword">Confirm Password</nz-form-label>
          <nz-form-control [nzErrorTip]="errorTpl">
            <input nz-input type="password" formControlName="confirmPassword" placeholder="Confirm Password" id="confirmPassword" />
          </nz-form-control>
        </nz-form-item>
      }
      <button nz-button nzType="primary" [disabled]="form.invalid" type="submit">Submit</button>
    </form>
  </app-bordered-card>
</app-content-wrapper>

<ng-template #errorTpl let-control>
  @if (control.errors?.['required']) {
    Field is Required
  }
  @if (control.errors?.['email']) {
    Email not valid
  }
  @if (control.errors?.['matching']) {
    Two passwords that you enter is inconsistent!
  }
  @if (control.errors?.['maxlength']) {
    Max {{control.errors.maxlength.requiredLength }} symbols
  }
  @if (control.errors?.['minlength']) {
    Min {{control.errors.minlength.requiredLength }} symbols
  }
</ng-template>
